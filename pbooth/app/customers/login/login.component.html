<section class="container-fluid content" [ngStyle]="{'background': 'url('+bgImage+') no-repeat'}" ><!-- start of middle_part -->
  <div class="container">
    <div class="row"><!-- start of row -->

      <div class="col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3 col-xs-12 col-xs-offset-0 login_register_page">
          <div class="col-md-12 col-sm-12 col-xs-12 login_popup_div">

        <div class="col-xs-12 login_form"><!-- start of form_part -->
          <form [formGroup]="loginForm" (ngSubmit)="customerLogin(loginForm.value);" class="col-xs-12 pannel_form">
              <div class="form-group col-xs-12 rinput"><!-- start of simple_line -->
                <p>
                  <img src="assets/images/login.svg" alt="Customer Picture" class="img-responsive center-block">
                </p>
                <p><span>Enter</span> the <span>world</span> of <span>mesmerising</span> fragrances...</p>
              </div><!-- end of simple_line -->
            
              <div class="col-sm-12 col-xs-12 no-padding Form_div" [ngClass]="{'otpDiv':(isStep == 2)}"><!-- start of login_form_filed -->
                <div class="form-group col-xs-12 rinput"><!-- start of otp_line -->
                  <p class="no-margin" [ngClass]="resObj.class" [innerHTML]="resObj.message"></p>
                  <p *ngIf="isStep == 2">If not received within 3 minutes please click on <span class="resend_otp" (click)="resendOtp();">Resend OTP</span></p>
                  <p class="no-margin" [ngClass]="resObj.otpClass" [innerHTML]="resObj.otpMessage"></p>
                </div><!-- end of otp_line -->

                <div [hidden]="isStep != 1" class="form-group col-xs-12 rinput">
                    <input type="text" class="form-control" formControlName="username" autofocus (keyup)="checkEmailOrPassword($event)">
                    <span *ngIf="loginForm.controls.username.invalid && !loginForm.controls.username.dirty && (requestLoginBy == 0)" class="filed_name">Email / Mobile Number*</span>
                    <span *ngIf="loginForm.controls.username.invalid && !loginForm.controls.username.dirty && (requestLoginBy == 1)" class="filed_name">Email*</span>
                    <span *ngIf="loginForm.controls.username.invalid && !loginForm.controls.username.dirty && (requestLoginBy == 2)" class="filed_name">Mobile Number*</span>
                    <span *ngIf="loginForm.controls.username.invalid && loginForm.controls.username.dirty && (requestLoginBy == 0)" class="filed_name error_span">Please enter valid email or 10 digit mobile!</span>
                    <span *ngIf="loginForm.controls.username.invalid && loginForm.controls.username.dirty && (requestLoginBy == 1)" class="filed_name error_span">Please enter valid email!</span>
                    <span *ngIf="loginForm.controls.username.invalid && loginForm.controls.username.dirty && (requestLoginBy == 2)" class="filed_name error_span">Please enter valid 10 digit mobile number!</span>
                    <span *ngIf="loginForm.controls.username.valid && (isEmail == 1)" class="filed_name complete_filed text-success">Email Id*</span>
                    <span *ngIf="loginForm.controls.username.valid && (isEmail == 2)" class="filed_name complete_filed text-success">Mobile Number*</span>
                </div>
                  
                <div [hidden]="isStep == 1" class="form-group col-xs-12 rinput">
                    <input type="text" class="form-control" formControlName="password" >
                    <span *ngIf="loginForm.controls.password.invalid && !loginForm.controls.password.dirty" class="filed_name">Enter OTP*</span>
                    <span *ngIf="loginForm.controls.password.invalid && loginForm.controls.password.dirty" class="filed_name error_span">Please enter valid OTP!</span>
                    <span *ngIf="loginForm.controls.password.valid" class="filed_name complete_filed text-success">Enter OTP*</span>
                </div>
                    
                <div class="form-group col-xs-12"><!-- start of submit_button -->
                  <button type="submit" class="btn from-left cart_btn submt_btn btn-block">{{ (isStep == 1) ? 'Login':'Verify' }}</button>
                  <button *ngIf="isStep == 2" type="button" (click)="getBack();" class="btn btn-block back-btn"><span><span class="fa fa-angle-left"></span> Back</span></button>
                </div><!-- end of submit_button -->
              </div><!-- end of login_form_filed -->            
              
              <div class="form-group col-xs-12 an_account">
                <p>
                    Don't have an account? <a routerLink="/customer/registration">Register</a>
                </p>
              </div>
            
          </form>
        </div><!-- end of form_part -->
        
          </div>
      </div>

    </div><!-- end of row -->
  </div>
</section><!-- end of middle_part -->

<section class="container-fluid content static_banner"><!-- start of middle_part -->
	<div class="container">
		<div class="row"><!-- start of row -->
		
			<div class="col-sm-12 col-xs-12 filter_btn {{topScrollClass}}"><!-- start of top_part -->
				<div class="filter_left"><!-- start of filter_left -->
					<div class="col-sm-12 col-xs-12 gender_div"><!-- start of gender_button -->
						<h3>Select Your Gender <span>Sort products</span></h3>
						<ul class="list-unstyled list-inline no-margin">
							<li [ngClass]="{'active':gender == 'male'}">
								<a [routerLink]="[]" [queryParams]="{gender:'male'}" class="btn">Male</a>
							</li>
							<li [ngClass]="{'active':gender == 'female'}">
								<a [routerLink]="[]" [queryParams]="{gender:'female'}" class="btn">Female</a>
							</li>
						</ul>
					</div><!-- end of gender_button -->
				</div><!-- end of filter_left -->
			</div><!-- end of top_part -->
                        
			<div class="col-sm-12 col-xs-12 brand_slider"><!-- start of brand_slider -->
				<p>
					<span>Perfume Selfie</span>
				</p>
				
				<div *ngIf="resultMsg !=''" class="col-xs-12 xs-no-padding">
					<div class="col-sm-12 col-xs-12 no-padding-right xs-no-padding">
						<h1 class="col-xs-12 text-center detail_heading">
							<img src="assets/images/gif-main2.gif">
						</h1>
					</div>
				</div>
		                
				<div class="col-sm-12 col-xs-12" *ngIf="resultSlide.length">
				
					<div class="content-slider touch_slider row-flex row-flex-wrap"><!-- start of slider -->			
						<ngu-carousel [inputs]="nguFirst" [dataSource]="resultSlide" class="col-xs-12 no-padding generic_main_img">
							<ngu-item NguCarouselItem *nguCarouselDef="let item; let i = index;" class="item col-xs-12">
							<div class="thumb_div"  [ngClass]="{'active':activeSlide==i}" (click)="resultSlides(i);" style="cursor:pointer;">
								<span class="ca-icon"><!-- start of image -->
									<a><img [src]="((item.images.length > 0) && (item.images[0].img_thumbnail != '') && (item.images[0].img_thumbnail != null)) ? item.images[0].img_thumbnail:'assets/images/product/default/is-base.jpg'" class="img-responsive center-block" [alt]="item.name" /></a>
								</span><!-- end of image -->
								<div class="ca-content"><!-- start of content -->
									<h2 class="ca-main">
										{{item.name}}
									</h2>
								</div><!-- end of content -->
							</div>
							</ngu-item>
							<button NguCarouselPrev class="leftRs hide"><i class="fa fa-angle-left"></i></button>
							<button NguCarouselNext class="rightRs hide"><i class="fa fa-angle-right"></i></button>
						</ngu-carousel>
					</div><!-- end of slider -->
				
				</div>
			</div><!-- end of brand_slider -->


			<div *ngFor="let item of result; let i = index;" class="col-xs-12 selfie_generic_div"><!-- start of image_section -->

				<div class="col-sm-5 col-xs-12 no-padding-left xs-no-padding"><!-- start of image_part -->
					<h1 class="col-xs-12 detail_heading visible-xs"><!-- start of heading -->
						<span class="product_name">
							{{item.name}}
							<span class="detail_rating starrr">
								<i *ngFor="let itemactive of getFinalRating(item.custReviews.rating);" class="fa fa-star color-star"></i>
								<i *ngFor="let itemnonactive of getRemainingRating(item.custReviews.rating);"  class="fa fa-star"></i>
							</span>
						</span>
						<span class="brand_name">
							<span *ngIf="item.isStock == 'out_of_stock'">Out Of Stock</span>
						</span>
					</h1><!-- end of heading -->
					<!-- Carousel -->
					<div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
						<!-- Wrapper for slides -->
						<div class="carousel-inner">
							<ngu-carousel [inputs]="nguSecond" [dataSource]="item.images" class="col-xs-12 no-padding generic_main_img">
								<ngu-item NguCarouselItem *nguCarouselDef="let image;" class="item contains_slider">
									<img [src]="image.img_large" [alt]="item.name" class="img-responsive center-block" />
								</ngu-item>
								<button NguCarouselPrev class="leftRs hidden-xs"><i class="fa fa-angle-left"></i></button>
								<button NguCarouselNext class="rightRs hidden-xs"><i class="fa fa-angle-right"></i></button>
							</ngu-carousel>
						</div>
						<div class="out_stock" *ngIf="item.isStock == 'out_of_stock'"><span>Out Of Stock</span></div>
					</div>
					<!-- /carousel -->
					<span class="male_female_div">
						<img [src]="(item.gender == 'female') ? 'assets/images/female.svg':'assets/images/male.svg'" class="img-responsive">
					</span>
				</div><!-- end of image_part -->

				<div class="col-sm-7 col-xs-12 no-padding-right xs-no-padding"><!-- start of image_detail -->

					<h1 class="col-xs-12 detail_heading left-column hidden-xs"><!-- start of heading -->
						<span class="product_name">
							{{item.title}}
							<span class="detail_rating">
								<div class="starrr">
									<i *ngFor="let itemactive of getFinalRating(item.custReviews.rating);" class="fa fa-star color-star"></i>
									<i *ngFor="let itemnonactive of getRemainingRating(item.custReviews.rating);"  class="fa fa-star"></i>
								</div>
							</span>
						</span>
					</h1><!-- end of heading -->

					<h3 class="col-xs-12 detail_price xs_detail_price"><!-- start of price -->
						<p class="col-xs-12 detail_mrp no-margin">
							Price :
							<span class="detail_main_price"><label [innerHTML]="item.price_logo"></label>{{item.price | number:'1.2-2'}}</span>
							<del *ngIf="item.discount.original"><label [innerHTML]="item.price_logo"></label>{{item.discount.original | number:'1.2-2'}}</del>
						</p>
					</h3><!-- end of price -->
					
					<h3 class="col-xs-12 detail_price"><!-- start of enlarge_content -->
                        	<p class="col-xs-12 detail_mrp no-margin"><!-- start of mrp -->
                                Contains 7 International Perfumes x 4ml + <i class="fa fa-rupee"></i>501 voucher + Perfume Selfie Case
                            </p><!-- end of mrp -->
                        </h3><!-- end of enlarge_content -->

					
					<h3 class="col-xs-12 detail_price xs_price_padding"><!-- start of selfie_content -->
						<p class="col-xs-12 no-margin selfie_content" [innerHTML]="sanitizer.bypassSecurityTrustHtml(item.shortDescription)"><!-- start of size -->
						</p><!-- end of size -->
					</h3><!-- end of selfie_content -->

					<h3 class="col-xs-12 detail_price"><!-- start of enlarge_content -->
						<p class="col-xs-12 detail_mrp no-margin"><!-- start of mrp -->
							Contains Mini Perfume Of The Following <small>(Click to enlarge)</small>
						</p><!-- end of mrp -->

						<ul class="col-xs-12 list-unstyled list-inline no-padding enlarge_popup"><!-- start of enlarge_image -->
							<li *ngFor="let r of item.related; let rIndex = index;">
								<button (click)="popupResults(i, rIndex);" type="button" class="btn" data-toggle="modal" data-target="#Enlarge_images">
									<img [src]="(r.images[0].img_large != '') ? r.images[0].img_large:'assets/images/product/default/is-base.jpg'" [alt]="r.images.name" class="img-responsive center-block" />
								</button>
							</li>
						</ul><!-- end of enlarge_image -->
					</h3><!-- end of enlarge_content -->
					<div class="col-md-10 col-sm-9 col-xs-12 no-padding margin-bottom detail_button">
						<div *ngIf="item.isStock == 'in_stock'">
							<span *ngIf="!item.isCart" (click)="addCart(item.id);" class="btn from-left cart_btn">Add to Cart</span>
							<a *ngIf="item.isCart" routerLink="/checkout/cart/" class="btn from-right cart_btn add-to-cart">Go to Cart</a>
						</div>
						<span *ngIf="item.isStock == 'coming_soon'">Coming Soon</span>
						<button *ngIf="item.isStock == 'out_of_stock' || item.isStock == 'coming_soon'" class="btn from-left cart_btn"  (click)="notifyMePopup(item.id);" data-target="#NotifyMe" data-toggle="modal">
							Notify Me
						</button>
                    </div>
				</div><!-- end of image_detail -->
			</div><!-- end of image_section -->
		
			<div class="col-xs-12 margin-xlg-top no-padding margin-lg-bottom review_main_div"><!-- start of review_part -->
				<div class="col-sm-4 col-xs-12 no-padding-left"><!-- start of left_part -->
					<div class="col-xs-12 no-padding review_heading"><!-- start of review_heading -->
						<h3>Reviews <span></span></h3>
					</div><!-- end of review_heading -->                        
					<div class="col-xs-12 no-padding margin-top"><!-- start of review -->
						<form class="review_form" [formGroup]="rForm" (ngSubmit)="addReview(rForm.value);">
							<div class="form-group"><!-- start of rating -->
								<label>Rating</label>
								<div class="starrr">
									<i *ngFor="let item of reviewSelected" (click)="selectReview(item);" class="fa fa-star color-star" style="cursor:pointer;"></i>
									<i *ngFor="let item of reviewRemain" (click)="unselectReview(item);" class="fa fa-star" style="cursor:pointer;"></i>
								</div>
							</div><!-- end of rating -->
							
							<div class="form-group select_box_1"><!-- start of select_box -->
								<select formControlName="title" class="form-control">
									<option value="" title="Title">Choose Title</option>
									<option value="Affordable">Affordable</option>
									<option value="Brilliant">Brilliant</option>
									<option value="Excellent">Excellent</option>
									<option value="Awesome">Awesome</option>
									<option value="Exotic">Exotic</option>
									<option value="Sensual">Sensual</option>
									<option value="Classy">Classy</option>
									<option value="Soothing">Soothing</option>
									<option value="Average">Average</option>
								</select>
							</div><!-- end of select_box -->
							
							<div class="form-group"><!-- start of textarea -->
								<textarea class="form-control" formControlName="description" cols="2" placeholder="Review"></textarea>
							</div><!-- end of textarea -->
							<div class="form-group"><p class="pincode_error" [innerHTML]="sanitizer.bypassSecurityTrustHtml(reviewMsg)"></p></div>
							<div class="form-group"><!-- start of submit_button -->
								<button type="submit" class="btn from-left cart_btn" [disabled]="!rForm.valid">Submit</button>
							</div><!-- end of submit_button -->
						</form>
					</div><!-- end of review -->
				</div><!-- end of left_part -->
				
				<div class="col-sm-8 col-xs-12 no-padding-right customer_reviews_div"><!-- start of right_part -->
					<div class="col-xs-12 no-padding review_heading"><!-- start of review_heading -->
						<h3>Customer Reviews <span></span></h3>
					</div><!-- end of review_heading -->
					
					<div class="col-xs-12 no-padding margin-top"><!-- start of customer_review -->
						
						<div *ngIf="reviewsList.length == 0" class="col-xs-12 review_box">						
							<div class="col-sm-12 col-xs-12 review_bottom">
								<p>Sorry, there are no review!</p>
							</div>							
						</div>
						
						<div *ngFor="let item of reviewsList" class="col-xs-12 review_box"><!-- start of review_box -->
						
							<div class="col-sm-3 col-xs-12 review_top"><!-- start of review_top -->
								<h4>
									{{item.title}}
									<span class="starrr">
										<i class="fa fa-star color-star" *ngFor="let i of getFinalRating(item.rating)"></i>
										<i class="fa fa-star" *ngFor="let j of getRemainingRating(item.rating)"></i>
									</span>
								</h4>
								<h5>
									By {{item.customer.name}}
								</h5>
								<h6>
									<i class="fa fa-calendar"></i> {{item.created}}
								</h6>
							</div><!-- end of review_top -->
							
							<div class="col-sm-9 col-xs-12 review_bottom"><!-- start of review_content -->
								<p [innerHTML]="sanitizer.bypassSecurityTrustHtml(item.description)"></p>
							</div><!-- end of review_content -->
							
						</div><!-- end of review_box -->
													
					</div><!-- end of customer_review -->
						
					<div *ngIf="moreReviewsFlag" class="col-xs-12 no-padding margin-top"><!-- start of button -->
						<button (click)="loadMoreReviews();" class="btn from-left cart_btn">
							View More
						</button>
						<span>{{reviewsLoader}}</span>
					</div><!-- end of button -->
				</div><!-- end of right_part -->
			</div><!-- end of review_part -->
		
		</div><!-- end of row -->
	</div>
</section><!-- end of middle_part -->

<!-- start of Forgotmodal -->
<div id="Enlarge_images" class="modal fade" role="dialog">
	<div class="modal-dialog">

		<!-- Modal content-->
		<div class="modal-content">
			<div class="modal-header no-padding no-border">
				<button type="button" class="close video_close" data-dismiss="modal">
					<span class="icon_cross"></span>
					<span class="icon_cross"></span>
				</button>
			</div>
			<div class="modal-body col-sm-12 col-xs-12 enlarge_popup_slider">
				<div class="col-xs-12 no-padding contains_slider"><!-- start of form_part -->
					<!-- Carousel -->
					<div>
						<ngu-carousel [inputs]="nguThird" [dataSource]="popupResult" class="col-xs-12 no-padding">
							<ngu-item NguCarouselItem *nguCarouselDef="let item;" class="item col-xs-12">
								<h1 class="col-xs-12 detail_heading text-center">
									<span class="product_name">
										{{item.title}}
										<span class="brand_flag">
											<img [src]="item.brand.image" [alt]="item.brand.country_name" data-toggle="tooltip" data-placement="bottom" [title]="item.brand.country_name">
										</span>
									</span>
									<span class="detail_rating">
										<div class="starrr">
											<i *ngFor="let itemactive of getFinalRating(item.custReviews.rating);" class="fa fa-star color-star"></i>
											<i *ngFor="let itemnonactive of getRemainingRating(item.custReviews.rating);"  class="fa fa-star"></i>
										</div>
									</span>

								</h1>
								<p class="col-xs-12 no-padding">
									<img [src]="item.images[0].img_large" [alt]="item.name" class="img-responsive center-block" />
									<span class="male_female_div male_female_1">
										<img [src]="(item.gender == 'female') ? 'assets/images/female.svg' : 'assets/images/male.svg'" class="img-responsive">
									</span>
								</p>
							</ngu-item>
							  <button NguCarouselPrev class="leftRs"><i class="fa fa-angle-left"></i></button>
							  <button NguCarouselNext class="rightRs"><i class="fa fa-angle-right"></i></button>
						</ngu-carousel>
					</div>
				</div><!-- end of form_part -->
			</div>
		</div>

	</div>
</div>
<!-- end of Forgotmodal -->

<div id="NotifyMe" class="modal fade in" role="dialog">
	<div class="modal-dialog">
	
		<!-- Modal content-->
		<div class="modal-content modal-sm col-sm-offset-3">
			<div class="modal-header no-padding no-border">
				<button type="button" class="close video_close" data-dismiss="modal" id="NotifyMeClose">
					<span class="icon_cross"></span>
					<span class="icon_cross"></span>
				</button>
			</div>
			<div class="modal-body col-sm-12 col-xs-12 login_popup_div">
				<h3 class="clearfix">Item out of stock - Notify Me!</h3>
				<div class="col-xs-12 login_form"><!-- start of form_part -->
					<form class="col-xs-12 no-padding" (submit)="notifyMeSubmit();">
						<p class="col-xs-12 account_line" [ngClass]="notifymeClass">
							{{notifymeMsg}}
						</p>
						
						<p class="col-xs-12 account_line">
							Enter your email address below to be notifed when this item is back in stock
						</p>
						
						<div class="form-group col-xs-12 no-padding"><!-- start of email -->
							<input type="email" class="form-control" id="notifyemail" (focus)="notifymeMsg=''; notifymeClass='';" placeholder="">
							<i class="fa fa-user"></i>
							<span class="filed_name">Email*</span>
						</div><!-- end of email -->
						
						<div class="form-group col-xs-12 no-padding lg_re_btn"><!-- start of login_button -->
							<button type="submit" class="btn from-left cart_btn btn-block margin-bottom">Notify Me!</button>
						</div><!-- end of login_button -->
					</form>
				</div><!-- end of form_part -->
			</div>
		</div>
	
	</div>
</div>

